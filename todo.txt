$todo

- add to tsconfig.json (TypeScript >= 1.8):
  "noImplicitReturns": true,
  "noFallthroughCasesInSwitch": true,
